---
import { Image } from 'astro:assets';
const { media, thumbnail } = Astro.props;

const style = 'object-cover w-full h-full rounded-2xl ';
---

{
  media && media.fields.file.contentType.includes('image') && (
    <Image
      src={'https:' + media.fields.file.url}
      alt={media.fields.title}
      class={style}
      width={media.fields.file.details.image.width}
      height={media.fields.file.details.image.height}
      format={'webp'}
      loading={'lazy'}
      quality={80}
    />
  )
}
{
  media && media.fields.file.contentType.includes('video') && (
    <video
      class={style}
      muted
      loop
      playsinline
      poster={thumbnail ? 'https:' + thumbnail.fields.file.url : ''}
    >
      <source
        src={'https:' + media.fields.file.url}
        type={media.fields.file.contentType}
      />
    </video>
  )
}
