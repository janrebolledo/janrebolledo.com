---
import ProjectCard1 from './ProjectCard1.astro';
import ProjectCard2 from './ProjectCard2.astro';

const { projects } = Astro.props;
---

{
  projects.map((project) =>
    project.order % 2 === 0 ? (
      <ProjectCard1 project={project} />
    ) : (
      <ProjectCard2 project={project} />
    )
  )
}

<script>
  const videosArray = document.getElementsByTagName('video');
  const videos = [...videosArray];

  const options = {
    threshold: 0.5,
  };

  const observer = new IntersectionObserver((entries, observer) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.play();
      } else {
        entry.target.pause();
      }
    });
  }, options);

  videos.forEach((video) => {
    observer.observe(video);
  });
</script>
